<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Get ERDDAP gridded data"><title>Get ERDDAP gridded data — griddap • rerddap</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get ERDDAP gridded data — griddap"><meta property="og:description" content="Get ERDDAP gridded data"><meta property="og:image" content="https://docs.ropensci.org/rerddap/logo.png"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">rerddap</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../articles/rerddap.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Using_rerddap.html">Using rerddap to Access Data from ERDDAP Servers</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/rerddap/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get ERDDAP gridded data</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rerddap/blob/HEAD/R/grid.R" class="external-link"><code>R/grid.R</code></a></small>
      <div class="d-none name"><code>griddap.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get ERDDAP gridded data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">griddap</span><span class="op">(</span></span>
<span>  <span class="va">datasetx</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  fields <span class="op">=</span> <span class="st">"all"</span>,</span>
<span>  stride <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  fmt <span class="op">=</span> <span class="st">"nc"</span>,</span>
<span>  url <span class="op">=</span> <span class="fu"><a href="eurl.html">eurl</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  store <span class="op">=</span> <span class="fu"><a href="disk.html">disk</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  read <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  callopts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>datasetx</dt>
<dd><p>Anything coercable to an object of class info. So the output of a
call to <code><a href="info.html">info</a></code>, or a datasetid, which will internally be passed
through <code><a href="info.html">info</a></code></p></dd>


<dt>...</dt>
<dd><p>Dimension arguments. See examples. Can be any 1 or more of the
dimensions for the particular dataset - and the dimensions vary by dataset.
For each dimension, pass in a vector of length two, with min and max value
desired. at least 1 required.</p></dd>


<dt>fields</dt>
<dd><p>(character) Fields to return, in a character vector.</p></dd>


<dt>stride</dt>
<dd><p>(integer) How many values to get. 1 = get every value, 2 = get
every other value, etc. Default: 1 (i.e., get every value)</p></dd>


<dt>fmt</dt>
<dd><p>(character) One of csv or nc (for netcdf). Default: nc</p></dd>


<dt>url</dt>
<dd><p>A URL for an ERDDAP server. Default:
https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="eurl.html">eurl()</a></code> for
more information</p></dd>


<dt>store</dt>
<dd><p>One of <code><a href="disk.html">disk</a></code> (default) or <code><a href="disk.html">memory</a></code>. You
can pass options to <code><a href="disk.html">disk</a></code>. Beware: if you choose <code>fmt="nc"</code>,
we force <code>store=disk()</code> because nc files have to be written to disk.</p></dd>


<dt>read</dt>
<dd><p>(logical) Read data into memory or not. Does not apply when
<code>store</code> parameter is set to memory (which reads data into memory).
For large csv, or especially netcdf files, you may want to set this to
<code>FALSE</code>, which simply returns a summary of the dataset - and you can
read in data piecemeal later. Default: <code>TRUE</code></p></dd>


<dt>callopts</dt>
<dd><p>Curl options passed on to <code><a href="https://docs.ropensci.org/crul/reference/verb-GET.html" class="external-link">verb-GET</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>griddap_csv</code> if csv chosen or
<code>griddap_nc</code> if nc file format chosen.</p>


<ul><li><p><code>griddap_csv</code>: a data.frame created from the downloaded csv
data</p></li>
<li><p><code>griddap_nc</code>: a list, with slots "summary" and "data". "summary"
is the unclassed output from <code><a href="https://rdrr.io/pkg/ncdf4/man/nc_open.html" class="external-link">ncdf4::nc_open</a></code>, from which you can
do any netcdf operations you like. "data" is a data.frame created
from the netcdf data. the data.frame may be empty if there were problems
parsing the netcdf data</p></li>
</ul><p>Both have the attributes: datasetid (the dataset id), path (the path on file
for the csv or nc file), url (the url requested to the ERDDAP server)</p>


<p>If <code>read=FALSE</code>, the data.frame for <code>griddap_csv</code></p>


<p>and the data.frame in the "data" slot is empty for <code>griddap_nc</code></p>


    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Details:</p>
<p>If you run into an error like "HTTP Status 500 - There was a (temporary?)
problem. Wait a minute, then try again.". it's likely they are hitting
up against a size limit, and they should reduce the amount of data they
are requesting either via space, time, or variables. Pass in
<code>config = verbose()</code> to the request, and paste the URL into your
browser to see if the output is garbled to examine if there's a problem
with servers or this package</p>
    </div>
    <div class="section level2">
    <h2 id="dimensions-and-variables">Dimensions and Variables<a class="anchor" aria-label="anchor" href="#dimensions-and-variables"></a></h2>
    

<p>ERDDAP grid dap data has this concept of dimenions vs. variables. Dimensions
are things like time, latitude, longitude, altitude, and depth. Whereas
variables are the measured variables, e.g., temperature, salinity, air.</p>
<p>You can't separately adjust values for dimensions for different variables.
So, here's how it's gonna work:</p>
<p>Pass in lower and upper limits you want for each dimension as a vector
(e.g., <code>c(1,2)</code>), or leave to defaults (i.e., don't pass anything to
a dimension). Then pick which variables you want returned via the
<code>fields</code> parameter. If you don't pass in options to the <code>fields</code>
parameter, you get all variables back.</p>
<p>To get the dimensions and variables, along with other metadata for a
dataset, run <code><a href="info.html">info</a></code>, and each will be shown, with their min
and max values, and some other metadata.</p>
    </div>
    <div class="section level2">
    <h2 id="where-does-the-data-go-">Where does the data go?<a class="anchor" aria-label="anchor" href="#where-does-the-data-go-"></a></h2>
    

<p>You can choose where data is stored. Be careful though. You can easily get a
single file of hundreds of MB's (upper limit: 2 GB) in size with a single
request. To the <code>store</code> parameter, pass <code><a href="disk.html">memory</a></code> if you
want to store the data in memory (saved as a data.frame), or pass
<code><a href="disk.html">disk</a></code> if you want to store on disk in a file. Note that
<code><a href="disk.html">memory</a></code> and <code><a href="disk.html">disk</a></code> are not character strings, but
function calls. <code><a href="disk.html">memory</a></code> does not accept any inputs, while
<code><a href="disk.html">disk</a></code> does. Possibly will add other options, like
“sql” for storing in a SQL database.</p>
    </div>
    <div class="section level2">
    <h2 id="non-lat-lon-grid-data">Non-lat/lon grid data<a class="anchor" aria-label="anchor" href="#non-lat-lon-grid-data"></a></h2>
    

<p>Some gridded datasets have latitude/longitude components, but some do not.
When nc format gridded datasets have latitude and longitude we "melt" them into a
data.frame for easy downstream consumption. When nc format gridded datasets do
not have latitude and longitude components, we do not read in the data, throw
a warning saying so. You can readin the nc file yourself with the file path.
CSV format is not affected by this issue as CSV data is easily turned into
a data.frame regardless of whether latitude/longitude data are present.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>https://upwell.pfeg.noaa.gov/erddap/rest.html</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># single variable dataset</span></span></span>
<span class="r-in"><span><span class="co">## You can pass in the outpu of a call to info</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="info.html">info</a></span><span class="op">(</span><span class="st">'erdVHNchlamday'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## Or, pass in a dataset id</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="st">'erdVHNchlamday'</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-04-01'</span>,<span class="st">'2015-04-10'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">21</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">120</span>, <span class="op">-</span><span class="fl">119</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># multi-variable dataset</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="info.html">info</a></span><span class="op">(</span><span class="st">'erdQMekm14day'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="va">out</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-12-28'</span>,<span class="st">'2016-01-01'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">23</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">88</span>, <span class="fl">90</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="va">out</span>, time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-12-28'</span>,<span class="st">'2016-01-01'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">23</span><span class="op">)</span>, longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">88</span>, <span class="fl">90</span><span class="op">)</span>, fields <span class="op">=</span> <span class="st">'mod_current'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="va">out</span>, time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-12-28'</span>,<span class="st">'2016-01-01'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">23</span><span class="op">)</span>, longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">88</span>, <span class="fl">90</span><span class="op">)</span>, fields <span class="op">=</span> <span class="st">'mod_current'</span>,</span></span>
<span class="r-in"><span>   stride <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="va">out</span>, time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-12-28'</span>,<span class="st">'2016-01-01'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">23</span><span class="op">)</span>, longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">88</span>, <span class="fl">90</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   fields <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'mod_current'</span>,<span class="st">'u_current'</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Write to memory (within R), or to disk</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="info.html">info</a></span><span class="op">(</span><span class="st">'erdQSwindmday'</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## disk, by default (to prevent bogging down system w/ large datasets)</span></span></span>
<span class="r-in"><span><span class="co">## you can also pass in path and overwrite options to disk()</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="va">out</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2006-07-11'</span>,<span class="st">'2006-07-20'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">166</span>, <span class="fl">170</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> store <span class="op">=</span> <span class="fu"><a href="disk.html">disk</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## the 2nd call is much faster as it's mostly just the time of reading in</span></span></span>
<span class="r-in"><span><span class="co">## the table from disk</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span> <span class="fu">griddap</span><span class="op">(</span><span class="va">out</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2006-07-11'</span>,<span class="st">'2006-07-15'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> store <span class="op">=</span> <span class="fu"><a href="disk.html">disk</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span> <span class="fu">griddap</span><span class="op">(</span><span class="va">out</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2006-07-11'</span>,<span class="st">'2006-07-15'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> store <span class="op">=</span> <span class="fu"><a href="disk.html">disk</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## memory - you have to choose fmt="csv" if you use memory</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="st">"erdMBchla1day"</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-01-01'</span>,<span class="st">'2015-01-03'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>, <span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">125</span>, <span class="fl">126</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> fmt <span class="op">=</span> <span class="st">"csv"</span>, store <span class="op">=</span> <span class="fu"><a href="disk.html">memory</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Use ncdf4 package to parse data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="info.html">info</a></span><span class="op">(</span><span class="st">"erdMBchla1day"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="st">"erdMBchla1day"</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-01-01'</span>,<span class="st">'2015-01-03'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>, <span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">125</span>, <span class="fl">126</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get data in csv format</span></span></span>
<span class="r-in"><span><span class="co">## by default, we get netcdf format data</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="st">'erdMBchla1day'</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-01-01'</span>,<span class="st">'2015-01-03'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>, <span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">125</span>, <span class="fl">126</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> fmt <span class="op">=</span> <span class="st">"csv"</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use a different ERDDAP server url</span></span></span>
<span class="r-in"><span><span class="co">## NOAA IOOS PacIOOS</span></span></span>
<span class="r-in"><span><span class="va">url</span> <span class="op">=</span> <span class="st">"https://cwcgom.aoml.noaa.gov/erddap/"</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="info.html">info</a></span><span class="op">(</span><span class="st">"miamiacidification"</span>, url <span class="op">=</span> <span class="va">url</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">griddap</span><span class="op">(</span><span class="va">out</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2019-11-01'</span>,<span class="st">'2019-11-03'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">16</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">90</span>, <span class="op">-</span><span class="fl">88</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## pass directly into griddap() - if you pass a datasetid string directly</span></span></span>
<span class="r-in"><span><span class="co">## you must pass in the url or you'll be querying the default ERDDAP url,</span></span></span>
<span class="r-in"><span><span class="co">## which isn't the one you want if you're not using the default ERDDAP url</span></span></span>
<span class="r-in"><span><span class="fu">griddap</span><span class="op">(</span><span class="st">"miamiacidification"</span>, url <span class="op">=</span> <span class="va">url</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2019-11-01'</span>,<span class="st">'2019-11-03'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">16</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">90</span>, <span class="op">-</span><span class="fl">88</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using 'last'</span></span></span>
<span class="r-in"><span><span class="co">## with time</span></span></span>
<span class="r-in"><span><span class="fu">griddap</span><span class="op">(</span><span class="st">'erdVHNchlamday'</span>,</span></span>
<span class="r-in"><span> time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'last-5'</span>,<span class="st">'last'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">21</span><span class="op">)</span>,</span></span>
<span class="r-in"><span> longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">120</span>, <span class="op">-</span><span class="fl">119</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## with latitude</span></span></span>
<span class="r-in"><span><span class="fu">griddap</span><span class="op">(</span><span class="st">'erdVHNchlamday'</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-04-01'</span>,<span class="st">'2015-04-10'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'last'</span>, <span class="st">'last'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">120</span>, <span class="op">-</span><span class="fl">119</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## with longitude</span></span></span>
<span class="r-in"><span><span class="fu">griddap</span><span class="op">(</span><span class="st">'erdVHNchlamday'</span>,</span></span>
<span class="r-in"><span>  time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2015-04-01'</span>,<span class="st">'2015-04-10'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  latitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">18</span>, <span class="fl">21</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  longitude <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'last'</span>, <span class="st">'last'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># datasets without lat/lon grid and with fmt=nc</span></span></span>
<span class="r-in"><span><span class="co"># FIXME: this dataset is gone</span></span></span>
<span class="r-in"><span><span class="co"># (x &lt;- info('glos_tds_5912_ca66_3f41'))</span></span></span>
<span class="r-in"><span><span class="co"># res &lt;- griddap(x,</span></span></span>
<span class="r-in"><span><span class="co">#   time = c('2018-04-01','2018-04-10'),</span></span></span>
<span class="r-in"><span><span class="co">#   ny = c(1, 2),</span></span></span>
<span class="r-in"><span><span class="co">#   nx = c(3, 5)</span></span></span>
<span class="r-in"><span><span class="co"># )</span></span></span>
<span class="r-in"><span><span class="co">## data.frame is empty</span></span></span>
<span class="r-in"><span><span class="co"># res$data</span></span></span>
<span class="r-in"><span><span class="co">## read in from the nc file path</span></span></span>
<span class="r-in"><span><span class="co"># ncdf4::nc_open(res$summary$filename)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

